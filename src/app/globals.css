@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #ffffff;
  --foreground: #1e3a5f;
  --sudoku-border: #1e3a5f;
  --sudoku-cell-bg: #ffffff;
  --sudoku-given-color: #1e3a5f;
  --sudoku-user-color: #3b82f6;
  --sudoku-highlight-bg: #e8f0fe;
  --sudoku-selected-bg: #c5d9f7;
  --sudoku-same-number-bg: #d1e3fa;
}

@layer base {
  body {
    @apply bg-background text-foreground;
  }

  * {
    @apply border-gray-200;
  }
}

@layer components {
  .sudoku-cell {
    @apply flex items-center justify-center
           text-xl sm:text-2xl md:text-3xl font-medium
           select-none cursor-pointer
           touch-manipulation
           outline-none
           border border-gray-300;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    -webkit-tap-highlight-color: transparent;
    will-change: transform, background-color;
    color: var(--sudoku-given-color);
    background-color: var(--sudoku-cell-bg);
  }

  .sudoku-cell-given {
    color: var(--sudoku-given-color);
    background-color: var(--sudoku-cell-bg);
    font-weight: 500;
  }

  .sudoku-cell-user {
    color: var(--sudoku-user-color);
    background-color: var(--sudoku-cell-bg);
  }

  .sudoku-cell-selected {
    background-color: var(--sudoku-selected-bg) !important;
  }

  .sudoku-cell-highlighted {
    background-color: var(--sudoku-highlight-bg);
  }

  .sudoku-cell-same-number {
    background-color: var(--sudoku-same-number-bg);
  }

  .sudoku-cell-conflict {
    @apply text-red-500;
    background-color: #fee2e2 !important;
  }

  .sudoku-cell-note {
    @apply text-[8px] sm:text-[10px] text-gray-500;
  }

  /* Number Pad Container */
  .number-pad-container {
    @apply flex items-center justify-between gap-1 px-3 py-3;
    background: linear-gradient(to bottom, #f8fafc, #f1f5f9);
  }

  /* Number Pad Button */
  .number-pad-btn {
    @apply flex items-center justify-center
           flex-1 aspect-square max-w-[40px]
           rounded-xl
           touch-manipulation
           transition-all duration-150 ease-out;
    background: linear-gradient(145deg, #ffffff, #f0f4f8);
    box-shadow: 
      0 2px 4px rgba(0, 0, 0, 0.06),
      0 1px 2px rgba(0, 0, 0, 0.04),
      inset 0 1px 0 rgba(255, 255, 255, 0.8);
    border: 1px solid rgba(0, 0, 0, 0.06);
    -webkit-tap-highlight-color: transparent;
  }

  .number-pad-btn:active:not(.number-pad-btn-disabled) {
    transform: scale(0.92);
    box-shadow: 
      0 1px 2px rgba(0, 0, 0, 0.08),
      inset 0 1px 2px rgba(0, 0, 0, 0.06);
  }

  .number-pad-btn-text {
    @apply text-lg font-semibold;
    color: #1e3a5f;
    text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
  }

  .number-pad-btn-active {
    background: linear-gradient(145deg, #4a90d9, #3b7fc8);
    border-color: #3b7fc8;
    box-shadow: 
      0 3px 8px rgba(74, 144, 217, 0.35),
      0 1px 3px rgba(74, 144, 217, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.2);
  }

  .number-pad-btn-active .number-pad-btn-text {
    color: #ffffff;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
  }

  .number-pad-btn-disabled {
    @apply opacity-40 cursor-not-allowed;
  }

  .number-pad-btn-disabled:active {
    transform: none;
  }

  .game-toolbar-btn {
    @apply flex flex-col items-center justify-center
           w-14 h-14 sm:w-16 sm:h-16
           text-gray-500 
           touch-manipulation;
    -webkit-tap-highlight-color: transparent;
  }

  .game-toolbar-btn-active {
    @apply text-primary-500;
  }
}

@layer utilities {
  .grid-sudoku {
    display: grid;
    grid-template-columns: repeat(9, 1fr);
    background: var(--sudoku-cell-bg);
    border: 2px solid var(--sudoku-border);
  }

  .touch-manipulation {
    touch-action: manipulation;
  }
}
